# Replication
- 메시지들을 여러 개로 복제해서 카프카 클러스터내 브로커들에 분산시키는 동작을 뜻한다. 
- 하나의 브로커가 종료되더라도 데이터의 유실이 없다.
- `--replication-factor`옵션이 카프카 내 몇 개의 리플리케이션을 유지하겠다는 의미다.
- `--replication-factor 3`은 원본을 포함한 리플리케이션이 3개 있다는 뜻이다.
- 리플리케이션이 많으면 안정성은 높아지겠지만, 브로커의 리소스를 그만큼 많이 낭비하는 단점이 있다. (보통 운영에선 3으로 설정한다. 중요하지 않으면 2)

# Partition
- 토픽 하나를 여러 개로 나눠 병렬 처리가 가능하게 만든 것을 파티션이라고 한다.
- 파티션 번호는 0부터 시작한다
- 파티션 수는 초기 생성 후 언제든지 늘릴수 있지만, 한번 늘린 파티션 수는 절대로 줄일 수 없다.
- 초반에는 2,4개 정도로 적게 생성하고, 컨슈머의 LAG 등을 모니터링하면서 조금씩 늘려가는게 좋다.
- `LAG`= 프로듀서가 보낸 메시지 수(카프카에 남아있는 메시지 수) - 컨슈머가 가져간 메시지 수

# Segment
- 파티션에 있는 메시지를 N개의 세그먼트로 쪼개서 로그 파일 형태로 저장한다.
